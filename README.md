# NotAnotherCartProject


## Setup
### Step 1: Create a TypeScript Project

Create a new folder for your project.

Open a terminal in the project folder and run the following commands:

```bash
npm init -y
npm install typescript
npx tsc --init
npm install uuid @types/uuid
```

Open the generated tsconfig.json file and update it with the following configuration:

```
{
  "compilerOptions": {
    "target": "ES6",
    "module": "commonjs",
    "outDir": "dist",
    "strict": true,
    "esModuleInterop": true
  }
}
```

### Step 2: Create the Types

Create a new file types.ts.

Add the following code to types.ts:

```
import { v4 as uuidv4 } from 'uuid';

export interface Item {
  id: string;
  name: string;
  price: number;
  description: string;
}

export interface User {
  id: string;
  name: string;
  age: number;
  cart: Item[];
}

export function createUser(name: string, age: number): User {
  return {
    id: uuidv4(),
    name,
    age,
    cart: [],
  };
}

export function createItem(name: string, price: number, description: string): Item {
  return {
    id: uuidv4(),
    name,
    price,
    description,
  };
}

export function addToCart(item: Item, user: User): void {
  user.cart.push(item);
}

export function removeFromCart(item: Item, user: User): void {
  user.cart = user.cart.filter((cartItem) => cartItem.id !== item.id);
}

export function removeQuantityFromCart(item: Item, user: User, quantity: number): void {
  const remainingItems = user.cart.filter((cartItem) => cartItem.id === item.id);

  if (remainingItems.length > quantity) {
    remainingItems.splice(0, quantity);
  } else {
    user.cart = user.cart.filter((cartItem) => cartItem.id !== item.id);
  }
}

export function cartTotal(user: User): number {
  return user.cart.reduce((total, item) => total + item.price, 0);
}

export function printCart(user: User): void {
  console.log("User's Cart:");
  user.cart.forEach((item) => console.log(`${item.name} - $${item.price}`));
}
```

### Step 3: Create the Driver Code

Create a new file index.ts.

Add the following code to index.ts:

```
import { createUser, createItem, addToCart, removeFromCart, removeQuantityFromCart, cartTotal, printCart } from './types';

const user = createUser('John Doe', 25);
console.log('User:', user);

const itemA = createItem('Item A', 10, 'This is item A');
const itemB = createItem('Item B', 20, 'This is item B');
const itemC = createItem('Item C', 30, 'This is item C');

addToCart(itemA, user);
printCart(user);
console.log('Cart Total:', cartTotal(user));

addToCart(itemA, user);
addToCart(itemB, user);
addToCart(itemC, user);
printCart(user);
console.log('Cart Total:', cartTotal(user));

removeFromCart(itemA, user);
printCart(user);
console.log('Cart Total:', cartTotal(user));

removeQuantityFromCart(itemB, user, 2);
printCart(user);
console.log('Cart Total:', cartTotal(user));
```

### Step 4: Compile and Run the Code

Open a terminal in the project folder.

Run the following command to compile the TypeScript code:

```
npx tsc
```

After successful compilation, run the following command to execute the code:

```
node dist/index.js
```

You should see the output generated by the driver code, demonstrating the usage of the defined functions and types.

Note: The compiled JavaScript code will be located in the dist folder.
